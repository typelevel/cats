<!DOCTYPE html>
<html lang="en">
  
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Typelevel Laika + Helium Theme" />
  <title>NonEmptyList</title>
  
  <meta name="author" content="cats contributors"/>
  
  <meta name="author" content="Cody Allen"/>
  
  <meta name="author" content="Ross Baker"/>
  
  <meta name="author" content="Arman Bilge"/>
  
  <meta name="author" content="P. Oscar Boykin"/>
  
  <meta name="author" content="Travis Brown"/>
  
  <meta name="author" content="Adelbert Chang"/>
  
  <meta name="author" content="Daniel Esik"/>
  
  <meta name="author" content="Peter Neyens"/>
  
  <meta name="author" content="Rob Norris"/>
  
  <meta name="author" content="Erik Osheim"/>
  
  <meta name="author" content="LukaJCB"/>
  
  <meta name="author" content="Michael Pilquist"/>
  
  <meta name="author" content="Miles Sabin"/>
  
  <meta name="author" content="Daniel Spiewak"/>
  
  <meta name="author" content="Frank Thomas"/>
  
  <meta name="author" content="Sergey Torgashov"/>
  
  <meta name="author" content="Julien Truffaut"/>
  
  <meta name="author" content="Kailuo Wang"/>
  
  
  <meta name="description" content="docs"/>
  
  
  
  <link rel="icon" sizes="32x32" type="image/png" href="https://typelevel.org/img/favicon.png"/>
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">
  
  <link rel="stylesheet" type="text/css" href="../helium/site/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="../helium/site/laika-helium.css" />
  <script src="../helium/site/laika-helium.js"></script>
  
  
  <script> /* for avoiding page load transitions */ </script>
</head>

  <body>

    <header id="top-bar" class="light-default dark-default">

  <div class="row">
    <a id="nav-icon">
      <i class="icofont-laika navigationMenu" title="Navigation">&#xefa2;</i>
    </a>
    
    
  </div>

  <a class="image-link" href="https://typelevel.org"><img src="https://typelevel.org/img/logo.svg"></a>

  <div class="row links">
    
    <a class="icon-link svg-link" href="https://www.javadoc.io/doc/org.typelevel/cats-docs_2.13/2.13.0/"><span class="api" title="API"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M75,47.5c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm-50,-0c13.246,-0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,-0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm2.705,16.735l7.239,0l0.622,-4.904l-21.833,0l-0,4.904l7.589,0l0,22.067l6.383,0l-0,-22.067Zm58.076,7.265c-0,-8.757 -3.698,-14.166 -10.781,-14.166c-7.083,-0 -10.781,5.604 -10.781,14.166c0,8.757 3.698,14.166 10.781,14.166c7.083,0 10.781,-5.604 10.781,-14.166Zm-6.539,0c0,6.538 -1.128,9.496 -4.242,9.496c-2.997,0 -4.242,-2.88 -4.242,-9.496c-0,-6.616 1.206,-9.496 4.242,-9.496c3.036,-0 4.242,2.88 4.242,9.496Zm-29.242,-67c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm0.512,9.834c-7.122,-0 -12.609,5.098 -12.609,14.127c-0,9.263 5.215,14.205 12.532,14.205c4.164,0 7.083,-1.634 9.068,-3.658l-2.88,-3.697c-1.518,1.206 -3.153,2.413 -5.838,2.413c-3.697,-0 -6.266,-2.763 -6.266,-9.263c-0,-6.616 2.724,-9.379 6.149,-9.379c2.102,-0 3.892,0.778 5.371,1.984l3.113,-3.775c-2.257,-1.868 -4.748,-2.957 -8.64,-2.957Z"/>
  </g>
</svg></span></a>
    
    <a class="icon-link svg-link" href="https://github.com/typelevel/cats"><span class="github" title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a>
    
    <a class="icon-link glyph-link" href="https://discord.gg/XF3CXcMzqD"><i class="icofont-laika chat" title="Chat">&#xeed5;</i></a>
    
    <a class="icon-link svg-link" href="https://fosstodon.org/@typelevel"><span class="mastodon" title="Mastodon"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <g class="svg-shape">
    <path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/>
  </g>
</svg></span></a>
    
  </div>  

</header>
    
    <nav id="sidebar">

  <div class="row">
    
    <a class="icon-link svg-link" href="https://www.javadoc.io/doc/org.typelevel/cats-docs_2.13/2.13.0/"><span class="api" title="API"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M75,47.5c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm-50,-0c13.246,-0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,-0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm2.705,16.735l7.239,0l0.622,-4.904l-21.833,0l-0,4.904l7.589,0l0,22.067l6.383,0l-0,-22.067Zm58.076,7.265c-0,-8.757 -3.698,-14.166 -10.781,-14.166c-7.083,-0 -10.781,5.604 -10.781,14.166c0,8.757 3.698,14.166 10.781,14.166c7.083,0 10.781,-5.604 10.781,-14.166Zm-6.539,0c0,6.538 -1.128,9.496 -4.242,9.496c-2.997,0 -4.242,-2.88 -4.242,-9.496c-0,-6.616 1.206,-9.496 4.242,-9.496c3.036,-0 4.242,2.88 4.242,9.496Zm-29.242,-67c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm0.512,9.834c-7.122,-0 -12.609,5.098 -12.609,14.127c-0,9.263 5.215,14.205 12.532,14.205c4.164,0 7.083,-1.634 9.068,-3.658l-2.88,-3.697c-1.518,1.206 -3.153,2.413 -5.838,2.413c-3.697,-0 -6.266,-2.763 -6.266,-9.263c-0,-6.616 2.724,-9.379 6.149,-9.379c2.102,-0 3.892,0.778 5.371,1.984l3.113,-3.775c-2.257,-1.868 -4.748,-2.957 -8.64,-2.957Z"/>
  </g>
</svg></span></a>
    
    <a class="icon-link svg-link" href="https://github.com/typelevel/cats"><span class="github" title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a>
    
    <a class="icon-link glyph-link" href="https://discord.gg/XF3CXcMzqD"><i class="icofont-laika chat" title="Chat">&#xeed5;</i></a>
    
    <a class="icon-link svg-link" href="https://fosstodon.org/@typelevel"><span class="mastodon" title="Mastodon"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <g class="svg-shape">
    <path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/>
  </g>
</svg></span></a>
    
  </div>

  <ul class="nav-list">
    <li class="level1 nav-leaf"><a href="../">Cats</a></li>
    <li class="level1 nav-leaf"><a href="../typeclasses.html">Type Classes</a></li>
    <li class="level1 nav-leaf"><a href="../datatypes.html">Data Types</a></li>
    <li class="level1 nav-leaf"><a href="../algebra.html">Algebra</a></li>
    <li class="level1 nav-leaf"><a href="../alleycats.html">Alleycats</a></li>
    <li class="level1 nav-leaf"><a href="../motivations.html">Motivations</a></li>
    <li class="level1 nav-leaf"><a href="../resources_for_learners.html">Resources for Learners</a></li>
    <li class="level1 nav-leaf"><a href="../jump_start_guide.html">Jump Start Guide</a></li>
    <li class="level1 nav-leaf"><a href="../imports.html">Imports</a></li>
    <li class="level1 nav-leaf"><a href="../faq.html">FAQ</a></li>
    <li class="level1 nav-leaf"><a href="../CONTRIBUTING.html">Contributor guide</a></li>
    <li class="level1 nav-leaf"><a href="../ADOPTERS.html">Adopters</a></li>
    <li class="level1 nav-leaf"><a href="../colophon.html">Colophon</a></li>
    <li class="level1 nav-leaf"><a href="../nomenclature.html">Glossary</a></li>
    <li class="level1 nav-leaf"><a href="../guidelines.html">Guidelines</a></li>
    <li class="level1 nav-leaf"><a href="../typelevelEcosystem.html">Typelevel Ecosystem</a></li>
    <li class="level1 nav-header">Type Classes</li>
    <li class="level2 nav-leaf"><a href="../typeclasses/alternative.html">Alternative</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/applicative.html">Applicative</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/applicativemonaderror.html">ApplicativeError and MonadError</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/applicativetraverse.html">Applicative and Traversable Functors</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/arrow.html">Arrow</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/arrowchoice.html">Arrow Choice</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/bifoldable.html">Bifoldable</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/bifunctor.html">Bifunctor</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/bimonad.html">Bimonad</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/comonad.html">Comonad</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/contravariant.html">Contravariant</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/contravariantmonoidal.html">Contravariant Monoidal</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/eq.html">Eq</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/foldable.html">Foldable</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/functor.html">Functor</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/invariant.html">Invariant</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/invariantmonoidal.html">Invariant Monoidal</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/lawtesting.html">Law testing</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/monad.html">Monad</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/monoid.html">Monoid</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/monoidk.html">MonoidK</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/nonemptytraverse.html">NonEmptyTraverse</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/parallel.html">Parallel</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/reducible.html">Reducible</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/semigroup.html">Semigroup</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/semigroupk.html">SemigroupK</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/show.html">Show</a></li>
    <li class="level2 nav-leaf"><a href="../typeclasses/traverse.html">Traverse</a></li>
    <li class="level1 nav-header">Data Types</li>
    <li class="level2 nav-leaf"><a href="chain.html">Chain</a></li>
    <li class="level2 nav-leaf"><a href="const.html">Const</a></li>
    <li class="level2 nav-leaf"><a href="contt.html">ContT</a></li>
    <li class="level2 nav-leaf"><a href="eithert.html">EitherT</a></li>
    <li class="level2 nav-leaf"><a href="eval.html">Eval</a></li>
    <li class="level2 nav-leaf"><a href="freeapplicative.html">Free Applicative</a></li>
    <li class="level2 nav-leaf"><a href="freemonad.html">Free Monad</a></li>
    <li class="level2 nav-leaf"><a href="functionk.html">FunctionK</a></li>
    <li class="level2 nav-leaf"><a href="id.html">Id</a></li>
    <li class="level2 nav-leaf"><a href="ior.html">Ior</a></li>
    <li class="level2 nav-leaf"><a href="iort.html">IorT</a></li>
    <li class="level2 nav-leaf"><a href="kleisli.html">Kleisli</a></li>
    <li class="level2 active nav-leaf"><a href="#">NonEmptyList</a></li>
    <li class="level2 nav-leaf"><a href="nested.html">Nested</a></li>
    <li class="level2 nav-leaf"><a href="oneand.html">OneAnd</a></li>
    <li class="level2 nav-leaf"><a href="optiont.html">OptionT</a></li>
    <li class="level2 nav-leaf"><a href="state.html">State</a></li>
    <li class="level2 nav-leaf"><a href="statet.html">StateT</a></li>
    <li class="level2 nav-leaf"><a href="validated.html">Validated</a></li>
    <li class="level2 nav-leaf"><a href="writer.html">Writer</a></li>
    <li class="level2 nav-leaf"><a href="writert.html">WriterT</a></li>
  </ul>

</nav>

    <div id="container">

      
<nav id="page-nav">
  <p class="header"><a href="#">NonEmptyList</a></p>

  <ul class="nav-list">
    <li class="level1 nav-node"><a href="#motivation">Motivation</a></li>
    <li class="level2 nav-leaf"><a href="#usage-in-validated-and-ior">Usage in <code>Validated</code> and <code>Ior</code></a></li>
    <li class="level2 nav-leaf"><a href="#avoiding-option-by-demanding-more-specific-arguments">Avoiding <code>Option</code> by demanding more specific arguments</a></li>
    <li class="level1 nav-leaf"><a href="#structure-of-a-nonemptylist">Structure of a NonEmptyList</a></li>
    <li class="level1 nav-leaf"><a href="#defined-for-all-its-elements">Defined for all its elements</a></li>
    <li class="level1 nav-node"><a href="#constructing-a-nonemptylist">Constructing a NonEmptyList</a></li>
    <li class="level2 nav-leaf"><a href="#using-one">Using <code>one</code></a></li>
    <li class="level2 nav-leaf"><a href="#using-of">Using <code>of</code></a></li>
    <li class="level2 nav-leaf"><a href="#using-fromlist">Using <code>fromList</code></a></li>
    <li class="level2 nav-leaf"><a href="#using-fromfoldable-and-fromreducible">Using <code>fromFoldable</code> and <code>fromReducible</code></a></li>
  </ul>

  <p class="footer"></p>
</nav>


      <main class="content">

        <h1 id="nonemptylist" class="title">NonEmptyList</h1>
        <p>API Documentation: <a class="api" href="https://www.javadoc.io/doc/org.typelevel/cats-docs_2.13/2.13.0/cats/data/NonEmptyList.html">NonEmptyList</a></p>
        
        <h2 id="motivation" class="section"><a class="anchor-link left" href="#motivation"><i class="icofont-laika link">&#xef71;</i></a>Motivation</h2>
        <p>We start with two examples of <code>NonEmptyList</code>s</p>
        
        <h3 id="usage-in-validated-and-ior" class="section"><a class="anchor-link left" href="#usage-in-validated-and-ior"><i class="icofont-laika link">&#xef71;</i></a>Usage in <code>Validated</code> and <code>Ior</code></h3>
        <p>If you have had the opportunity of taking a look to
        <a href="validated.html">Validated</a> or <a href="ior.html">Ior</a>, you&#39;ll find that a
        common case is to use <code>NonEmptyList</code> with one of these data
        structures.</p>
        <p>Why? Because it fits nicely in the error reporting cases. As stated by
        its name, <code>NonEmptyList</code> is a <em>specialized</em> data type that has at
        least <em>one</em> element.  Otherwise it behaves like a normal <code>List</code>.  For
        sum types like <code>Validated</code> (and <code>Ior</code>), it does not make sense to have
        a <code>Invalid</code> with no errors: no errors means it is a <code>Valid</code>!  By using
        <code>NonEmptyList</code>, we explicitly say in the type that:</p>
        <p><em>If</em> it is a <code>Invalid</code>, <em>then</em> there is at least one error.</p>
        <p>This is much more precise and we don&#39;t have to wonder whether the list
        of errors might be empty when reporting them later on.</p>
        
        <h3 id="avoiding-option-by-demanding-more-specific-arguments" class="section"><a class="anchor-link left" href="#avoiding-option-by-demanding-more-specific-arguments"><i class="icofont-laika link">&#xef71;</i></a>Avoiding <code>Option</code> by demanding more specific arguments</h3>
        <p>As functional programmers, we naturally shy away from partial
        functions that can throw exceptions like the famous <code>head</code> method on,
        e.g., <code>List</code>.</p>
        <p>Let&#39;s take as an example a method that calculates the <code>average</code>:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">average</span><span>(</span><span class="identifier">xs</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">Int</span><span>]): </span><span class="type-name">Double</span><span> = {
  </span><span class="identifier">xs</span><span>.</span><span class="identifier">sum</span><span> / </span><span class="identifier">xs</span><span>.</span><span class="identifier">length</span><span>.</span><span class="identifier">toDouble</span><span>
}</span></code></pre>
        <p>Clearly, this is not a valid definition for <em>empty</em> lists, because
        division by zero will throw an exception.  To fix this, one way is to
        return an <code>Option</code> instead of a <code>Double</code> right away:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">average</span><span>(</span><span class="identifier">xs</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">Int</span><span>]): </span><span class="type-name">Option</span><span>[</span><span class="type-name">Double</span><span>] = </span><span class="keyword">if</span><span> (</span><span class="identifier">xs</span><span>.</span><span class="identifier">isEmpty</span><span>) {
  </span><span class="type-name">None</span><span>
} </span><span class="keyword">else</span><span> {
  </span><span class="type-name">Some</span><span>(</span><span class="identifier">xs</span><span>.</span><span class="identifier">sum</span><span> / </span><span class="identifier">xs</span><span>.</span><span class="identifier">length</span><span>.</span><span class="identifier">toDouble</span><span>)
}</span></code></pre>
        <p>That works and is safe, but this only masks the problem of <em>accepting
        invalid input</em>.  By using <code>Option</code>, we extend the <code>average</code> function
        with the logic to handle empty lists.  Additionally, all callers have
        to handle the <code>Option</code> cases, maybe over and over again.  While better
        than failing with an exception, this is far from perfect.</p>
        <p>Instead what we would like to express is that <code>average</code> does not make
        sense at all for an empty list.  Luckily, cats defines the
        <code>NonEmptyList</code>.  As the name says, this represents a list that
        <em>cannot</em>, by construction, be empty.  So given a <code>NonEmptyList[A]</code> you
        can be sure that there is at least one <code>A</code> in there.</p>
        <p>Let&#39;s see how that impacts your <code>average</code> method:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">data</span><span>.</span><span class="type-name">NonEmptyList</span><span>
</span><span class="keyword">def</span><span> </span><span class="declaration-name">average</span><span>(</span><span class="identifier">xs</span><span>: </span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">Int</span><span>]): </span><span class="type-name">Double</span><span> = {
  </span><span class="identifier">xs</span><span>.</span><span class="identifier">reduceLeft</span><span>(</span><span class="identifier">_</span><span>+</span><span class="identifier">_</span><span>) / </span><span class="identifier">xs</span><span>.</span><span class="identifier">length</span><span>.</span><span class="identifier">toDouble</span><span>
}</span></code></pre>
        <p>With that, <code>average</code> is free of any &quot;domain invariant validation&quot; and
        instead can focus on the actual logic of computing the average of the
        list.  This ties in nicely with the recommendation of shifting your
        validation to the very borders of your program, where the input enters
        your system.</p>
        
        <h2 id="structure-of-a-nonemptylist" class="section"><a class="anchor-link left" href="#structure-of-a-nonemptylist"><i class="icofont-laika link">&#xef71;</i></a>Structure of a NonEmptyList</h2>
        <p><code>NonEmptyList</code> is defined as follows:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">final</span><span> </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">NonEmptyList</span><span>[+</span><span class="type-name">A</span><span>](</span><span class="identifier">head</span><span>: </span><span class="type-name">A</span><span>, </span><span class="identifier">tail</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">A</span><span>]) {
  </span><span class="comment">// Implementation elided
</span><span>}</span></code></pre>
        <p>The <code>head</code> of the <code>NonEmptyList</code> will be <em>non-empty</em>. Meanwhile, the
        <code>tail</code> can have zero or more elements contained in a <code>List</code>.</p>
        
        <h2 id="defined-for-all-its-elements" class="section"><a class="anchor-link left" href="#defined-for-all-its-elements"><i class="icofont-laika link">&#xef71;</i></a>Defined for all its elements</h2>
        <p>An important trait of <code>NonEmptyList</code> is the totality. For <code>List</code> specifically,
        both <code>head</code> and <code>tail</code> are partial: they are only well-defined if it
        has at least one element.</p>
        <p><code>NonEmptyList</code> on the other hand, <em>guarantees</em> you that operations like
        <code>head</code> and <code>tail</code> are defined, because constructing an empty
        <code>NonEmptyList</code> is simply not possible!</p>
        
        <h2 id="constructing-a-nonemptylist" class="section"><a class="anchor-link left" href="#constructing-a-nonemptylist"><i class="icofont-laika link">&#xef71;</i></a>Constructing a NonEmptyList</h2>
        <p>To construct a <code>NonEmptyList</code> you have different possibilities.</p>
        
        <h3 id="using-one" class="section"><a class="anchor-link left" href="#using-one"><i class="icofont-laika link">&#xef71;</i></a>Using <code>one</code></h3>
        <p>If you want to construct a collection with only one argument, use
        <code>NonEmptyList.one</code>:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">one</span><span>(</span><span class="number-literal">42</span><span>)
</span><span class="comment">// res0: NonEmptyList[Int] = NonEmptyList(head = 42, tail = List())</span></code></pre>
        
        <h3 id="using-of" class="section"><a class="anchor-link left" href="#using-of"><i class="icofont-laika link">&#xef71;</i></a>Using <code>of</code></h3>
        <p>The <code>NonEmptyList.of</code> method on the companion of <code>NonEmptyList</code> as the signature:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">of</span><span>[</span><span class="type-name">A</span><span>](</span><span class="identifier">head</span><span>: </span><span class="type-name">A</span><span>, </span><span class="identifier">tail</span><span>: </span><span class="type-name">A</span><span>*): </span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">A</span><span>]</span></code></pre>
        <p>It accepts an argument list with at least one <code>A</code> followed by a
        <em>varargs</em> argument for the <code>tail</code>.  Call it like this:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">of</span><span>(</span><span class="number-literal">1</span><span>)
</span><span class="comment">// res1: NonEmptyList[Int] = NonEmptyList(head = 1, tail = List())
</span><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">of</span><span>(</span><span class="number-literal">1</span><span>, </span><span class="number-literal">2</span><span>)
</span><span class="comment">// res2: NonEmptyList[Int] = NonEmptyList(head = 1, tail = List(2))
</span><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">of</span><span>(</span><span class="number-literal">1</span><span>, </span><span class="number-literal">2</span><span>, </span><span class="number-literal">3</span><span>, </span><span class="number-literal">4</span><span>)
</span><span class="comment">// res3: NonEmptyList[Int] = NonEmptyList(head = 1, tail = List(2, 3, 4))</span></code></pre>
        <p>There also is <code>ofInitLast</code> which takes a normal <code>List[A]</code> for the
        prefix and a last element:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">ofInitLast</span><span>(</span><span class="type-name">List</span><span>(), </span><span class="number-literal">4</span><span>)
</span><span class="comment">// res4: NonEmptyList[Int] = NonEmptyList(head = 4, tail = List())
</span><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">ofInitLast</span><span>(</span><span class="type-name">List</span><span>(</span><span class="number-literal">1</span><span>,</span><span class="number-literal">2</span><span>,</span><span class="number-literal">3</span><span>), </span><span class="number-literal">4</span><span>)
</span><span class="comment">// res5: NonEmptyList[Int] = NonEmptyList(head = 1, tail = List(2, 3, 4))</span></code></pre>
        
        <h3 id="using-fromlist" class="section"><a class="anchor-link left" href="#using-fromlist"><i class="icofont-laika link">&#xef71;</i></a>Using <code>fromList</code></h3>
        <p>There is also <code>NonEmptyList.fromList</code> which returns an
        <code>Option[NonEmptyList[A]]</code>:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">fromList</span><span>(</span><span class="type-name">List</span><span>())
</span><span class="comment">// res6: Option[NonEmptyList[Nothing]] = None
</span><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">fromList</span><span>(</span><span class="type-name">List</span><span>(</span><span class="number-literal">1</span><span>,</span><span class="number-literal">2</span><span>,</span><span class="number-literal">3</span><span>))
</span><span class="comment">// res7: Option[NonEmptyList[Int]] = Some(
//   value = NonEmptyList(head = 1, tail = List(2, 3))
// )</span></code></pre>
        <p>Last but not least, there is <code>.toNel</code> if you import the syntax for
        <code>list</code>:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">list</span><span>.</span><span class="identifier">_</span><span>
</span><span class="type-name">List</span><span>(</span><span class="number-literal">1</span><span>,</span><span class="number-literal">2</span><span>,</span><span class="number-literal">3</span><span>).</span><span class="identifier">toNel</span><span>
</span><span class="comment">// res8: Option[NonEmptyList[Int]] = Some(
//   value = NonEmptyList(head = 1, tail = List(2, 3))
// )</span></code></pre>
        
        <h3 id="using-fromfoldable-and-fromreducible" class="section"><a class="anchor-link left" href="#using-fromfoldable-and-fromreducible"><i class="icofont-laika link">&#xef71;</i></a>Using <code>fromFoldable</code> and <code>fromReducible</code></h3>
        <p>Even more general, you can use <code>NonEmptyList.fromFoldable</code> and
        <code>NonEmptyList.fromReducible</code>.  The difference between the two is that
        <code>fromReducible</code> can avoid the <code>Option</code> in the return type, because it
        is only available for non-empty datastructures.</p>
        <p>Here are some examples:</p>
        <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">all</span><span>.</span><span class="identifier">_</span><span>

</span><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">fromFoldable</span><span>(</span><span class="type-name">List</span><span>())
</span><span class="comment">// res9: Option[NonEmptyList[Nothing]] = None
</span><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">fromFoldable</span><span>(</span><span class="type-name">List</span><span>(</span><span class="number-literal">1</span><span>,</span><span class="number-literal">2</span><span>,</span><span class="number-literal">3</span><span>))
</span><span class="comment">// res10: Option[NonEmptyList[Int]] = Some(
//   value = NonEmptyList(head = 1, tail = List(2, 3))
// )
</span><span>
</span><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">fromFoldable</span><span>(</span><span class="type-name">Vector</span><span>(</span><span class="number-literal">42</span><span>))
</span><span class="comment">// res11: Option[NonEmptyList[Int]] = Some(
//   value = NonEmptyList(head = 42, tail = List())
// )
</span><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">fromFoldable</span><span>(</span><span class="type-name">Vector</span><span>(</span><span class="number-literal">42</span><span>))
</span><span class="comment">// res12: Option[NonEmptyList[Int]] = Some(
//   value = NonEmptyList(head = 42, tail = List())
// )
</span><span>
</span><span class="comment">// Everything that has a Foldable instance!
</span><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">fromFoldable</span><span>(</span><span class="type-name">Either</span><span>.</span><span class="identifier">left</span><span>[</span><span class="type-name">String</span><span>, </span><span class="type-name">Int</span><span>](</span><span class="string-literal">&quot;Error&quot;</span><span>))
</span><span class="comment">// res13: Option[NonEmptyList[Int]] = None
</span><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">fromFoldable</span><span>(</span><span class="type-name">Either</span><span>.</span><span class="identifier">right</span><span>[</span><span class="type-name">String</span><span>, </span><span class="type-name">Int</span><span>](</span><span class="number-literal">42</span><span>))
</span><span class="comment">// res14: Option[NonEmptyList[Int]] = Some(
//   value = NonEmptyList(head = 42, tail = List())
// )
</span><span>
</span><span class="comment">// Avoid the Option for things with a `Reducible` instance
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">data</span><span>.</span><span class="type-name">NonEmptyVector</span><span>
</span><span class="type-name">NonEmptyList</span><span>.</span><span class="identifier">fromReducible</span><span>(</span><span class="type-name">NonEmptyVector</span><span>.</span><span class="identifier">of</span><span>(</span><span class="number-literal">1</span><span>, </span><span class="number-literal">2</span><span>, </span><span class="number-literal">3</span><span>))
</span><span class="comment">// res15: NonEmptyList[Int] = NonEmptyList(head = 1, tail = List(2, 3))</span></code></pre>

        
<hr class="footer-rule"/>
<footer>
  cats is a <a href="https://typelevel.org/">Typelevel</a> project distributed under the <a href="https://opensource.org/licenses/MIT">MIT</a> license.
</footer>


      </main>

    </div>

  </body>

</html>